function t(){var t=new Phaser.Game(300,420,Phaser.Canvas,"game_cont");t.state.add("Boot",n),t.state.add("Preload",B),t.state.add("Menu",_),t.state.add("BestScore",e),t.state.add("Info",w),t.state.add("Game",p),t.state.start("Boot")}var e=function(t){this.create=function(){I(t)}},n=function(){this.init=function(){this.input.maxPointers=1,this.stage.disableVisibilityChange=!0},this.preload=function(){this.load.atlas("preloader","res/preloader.png","res/preloader.json")},this.create=function(){this.stage.backgroundColor="#2c3e50",this.state.start("Preload")}},i={group_1:["0x3498db","0x1abc9c","0x2ecc71"],group_1_hard:["0x3498db","0x1abc9c","0x2ecc71","0x2980b9","0x16a085","0x27ae60"],group_2:["0xf1c40f","0xe67e22","0xe74c3c"],group_2_hard:["0xf1c40f","0xe67e22","0xe74c3c","0xf39c12","0xd35400","0xc0392b"]},a={0:{x:10,y:130},1:{x:105,y:130},2:{x:200,y:130},3:{x:10,y:225},4:{x:105,y:225},5:{x:200,y:225},6:{x:10,y:320},7:{x:105,y:320},8:{x:200,y:320}},o=null,r=0,s=0,d="",l="",c=null,h=null,u=2500,f=null,p=function(t){this.init=function(){var e=S("ColorMatch_BestScore");""!=e&&(s=e),t.renderer.renderSession.roundPixels=!0},this.create=function(){d=this.add.bitmapText(this.world.width-10,25,"04font","0",28),d.anchor.setTo(1,.5),l=this.add.bitmapText(this.world.width-60,25,"04font",s,28),l.anchor.setTo(1,.5),I(t),o=this.add.group(),m(t)}},x=function(t,e,n,i,a){var r=t.add.graphics(0,0);r.beginFill(e),r.drawRect(0,0,90,90),r.endFill();var s=t.add.sprite(n,i,null);s.inputEnabled=!0,s.addChild(r),r=null,a?s.isPoint=!0:s.isPoint=!1,s.events.onInputDown.add(function(e){v(e,t)}),o.add(s),s=null},g=function(t,e){c=t.add.graphics(10,60),c.beginFill(e),c.drawRect(0,0,280,30),c.endFill();var n=35>r?u-50*r:1e3;h=t.add.graphics(10,95),h.beginFill(15528177),h.drawRect(0,0,280,10),h.endFill(),timeBarMask=t.add.graphics(280,95),timeBarMask.beginFill(2899536),timeBarMask.drawRect(0,0,280,10),timeBarMask.endFill(),t.time.events.add(1,function(){f=t.add.tween(timeBarMask),f.to({x:10},n,"Linear",!0),f.onComplete.addOnce(function(){timeBarMask.kill(),M(),b(t)},this)},this)},m=function(t){var e=[0,1,2,3,4,5,6,7,8],n=Math.floor(9*Math.random()),o="group_"+(Math.floor(2*Math.random())+1),s=20>r?o:o+"_hard",d=i[s].slice(),l=20>r?3:6,c=Math.floor(Math.random()*l),h=d[c];g(t,h),x(t,h,a[e[n]].x,a[e[n]].y,!0),F(e,n),F(d,c);var u=4>=r?2*r:8,f=0;for(f=0;u>f;f++)n=Math.floor(Math.random()*(8-f)),c=Math.floor(Math.random()*(l-1)),h=d[c],x(t,h,a[e[n]].x,a[e[n]].y),F(e,n);e=null,d=null},v=function(t,e){t.isPoint?r++:M(),d.text=r.toString(),b(e)},b=function(t){t.tweens.removeAll(),o.removeAll(),c.kill(),h.kill(),m(t)},M=function(){r>s&&(s=r,l.text=s.toString(),P("ColorMatch_BestScore",s,7)),r=0,d.text="0"},w=function(t){this.create=function(){I(t)}},y=["white","emerald","sun_flower","blue","alizarin"];titleIndex=0;var _=function(t){this.init=function(){t.renderer.renderSession.roundPixels=!0},this.create=function(){var t=this.add.sprite(this.world.centerX,100,"sprites","title_white.png");t.anchor.set(.5),this.time.events.add(1,function(){this.time.events.loop(5e3,function(){titleIndex++,5==titleIndex&&(titleIndex=0),t.frameName="title_"+y[titleIndex]+".png"},this)},this);var e=this.add.button(this.world.centerX,this.world.centerY,"sprites",function(){this.state.start("Game")},this,"play_active.png","play.png","play_active.png");e.anchor.set(.5),e.input.useHandCursor=!0}},C=null,k=!1,B=function(){this.preload=function(){C=this.add.sprite(this.world.centerX,this.world.centerY,"preloader",0),C.anchor.set(.5,.5);var t=[],e=0;for(e;33>e;e++)t[e]=e;C.animations.add("loading",t,60,!0),C.play("loading"),this.load.onLoadComplete.addOnce(this.onLoadComplete,this),this.load.atlas("sprites","res/sprites.png","res/sprites.json"),this.load.bitmapFont("04font","res/04font.png","res/04font.fnt")},this.create=function(){C.cropEnabled=!1},this.update=function(){k&&this.state.start("Menu")},this.onLoadComplete=function(){k=!0}};"complete"===document.readyState||"interactive"===document.readyState?t():document.addEventListener("DOMContentLoaded",t,!1);var P=function(t,e,n){var i=new Date;i.setTime(i.getTime()+24*n*60*60*1e3);var a="expires="+i.toUTCString();document.cookie=t+"="+e+"; "+a},S=function(t){for(var e=t+"=",n=document.cookie.split(";"),i=0;i<n.length;i++){for(var a=n[i];" "==a.charAt(0);)a=a.substring(1);if(0==a.indexOf(e))return a.substring(e.length,a.length)}return""},F=function(t,e){var n=t.length;if(n){for(;n>e;)t[e++]=t[e];--t.length}},I=function(t){var e=t.add.button(10,22,"sprites",function(){t.state.start("Menu")},this,"menu_active.png","menu.png","menu_active.png");e.anchor.set(0,.5),e.input.useHandCursor=!0};